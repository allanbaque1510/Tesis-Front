import{r,b as F,j as e,c as M,d as P,e as v}from"./index-aff8c025.js";import{U as l}from"./UtilService-9f1161d4.js";import{F as o,C as n}from"./index-aa3aee1a.js";import{R as c}from"./row-0e000846.js";import{C as s,S as m}from"./index-54e651da.js";import{T as h}from"./index-ed149759.js";import{T as z}from"./TeamOutlined-8b32d5ec.js";import{L as T}from"./index-b7824dac.js";import"./EditOutlined-232863e3.js";import"./styleChecker-5146645c.js";import"./TextArea-97b9cd34.js";import"./BaseInput-08586a27.js";import"./index-0be3d287.js";const H=()=>{const[x,p]=r.useState([]),[u,g]=r.useState([]),[b,f]=r.useState([]),[j,C]=r.useState([]),[i]=o.useForm(),d=F(),y=a=>{l.obtenerComboPeriodoLogrosAprendizaje({id_carrera:a}).then(t=>{t.data.ok&&p(t.data.data)})},S=()=>{const a=i.getFieldsValue();l.obtenerComboMateriasLogrosAprendizaje(a).then(t=>{t.data.ok&&f(t.data.data)})},w=()=>{l.getComboCarreras().then(a=>{a.data.ok&&g(a.data.data)})},L=()=>{d(M());const a=i.getFieldsValue();l.getLogrosPorMateria(a).then(t=>{t.data.ok&&C(t.data.data)}).catch(t=>{d(P({success:!1,title:"Error al obtener datos",message:t.response.data.error}))}).finally(()=>d(v()))};return r.useEffect(()=>{w()},[]),e.jsxs("div",{children:[e.jsx("h2",{children:"Datos logros de aprendizaje"}),e.jsx(c,{children:e.jsx(s,{style:{width:"100%"},children:e.jsx(o,{form:i,layout:"vertical",children:e.jsxs(c,{justify:"space-around",children:[e.jsx(n,{xs:24,sm:24,md:7,lg:7,xl:7,children:e.jsx(o.Item,{label:"Carrera",name:"carrera",children:e.jsx(m,{placeholder:"Seleccione una carrera",options:u,onChange:a=>{y(a),i.resetFields(["periodo","materia"])}})})}),e.jsx(n,{xs:24,sm:24,md:7,lg:7,xl:7,children:e.jsx(o.Item,{label:"Periodo",name:"periodo",children:e.jsx(m,{placeholder:"Seleccione un periodo",options:x,onChange:S})})}),e.jsx(n,{xs:24,sm:24,md:7,lg:7,xl:7,children:e.jsx(o.Item,{label:"Materia",name:"materia",children:e.jsx(m,{showSearch:!0,placeholder:"Seleccione una materia",options:b,onChange:L,optionFilterProp:"label",filterSort:(a,t)=>((a==null?void 0:a.label)??"").toLowerCase().localeCompare(((t==null?void 0:t.label)??"").toLowerCase())})})})]})})})}),e.jsx(s,{title:"Logros aprendizaje",children:j.map((a,t)=>e.jsxs(s.Grid,{style:{width:j.length>1?"50%":"100%"},children:[e.jsx(s,{children:e.jsxs(s.Grid,{style:{width:"100%",backgroundColor:"#0161DA"},children:[e.jsx(h.Title,{style:{color:"white"},level:3,children:a.grupo}),e.jsxs(c,{justify:"space-between",children:[e.jsxs(h.Title,{style:{color:"white"},level:4,children:["Cantidad estudiantes: ",a.cantidad_estudiantes]}),e.jsx(h.Text,{style:{color:"white",fontSize:"3em",fontWeight:"bold"},children:e.jsx(z,{})})]})]})}),e.jsx(T,{style:{width:"100%"},data:a.datos,xField:"logro",yField:"porcentaje",title:a.docente})]}))})]})};export{H as default};
