import{r as t,b as g,j as r,c as s,d as o,e as i}from"./index-15240922.js";import{D as b}from"./DraggerComponent-c3e776bd.js";import{E as c}from"./ExcelService-2ca9fc3b.js";import{C as D,T as E}from"./index-6ab464cc.js";import{T as v}from"./Table-b4bf00f1.js";import"./index-65b65a6c.js";import"./context-70b9985a.js";import"./useForceUpdate-d8c4c42e.js";import"./EyeOutlined-f74af4a3.js";import"./row-5d227883.js";import"./styleChecker-bc4901ce.js";import"./scrollTo-528c30a2.js";import"./BaseInput-d53a2d9c.js";import"./index-be7a82b5.js";import"./TextArea-a7b7f909.js";const q=()=>{const[n,l]=t.useState(null),[d,m]=t.useState([]),a=g(),p=e=>{l(e)},h=[{align:"center",key:"carrera",dataIndex:"carrera",title:"Carrera"},{align:"center",key:"periodo",dataIndex:"periodo",title:"Periodo"},{align:"center",key:"fecha",dataIndex:"fecha",title:"Fecha creacion"},{align:"center",key:"accion",dataIndex:"accion",title:"AcciÃ³n"}],u=()=>{a(s()),c.historialReporteNominaCarreraDocenteMateria().then(e=>{e.data.ok&&m(e.data.data)}).catch(e=>{a(o({success:!1,title:"Error al obtener el historial",message:e.response.data.error}))}).finally(()=>{a(i())})};t.useEffect(()=>{u()},[]);const f=()=>{a(s()),c.registrarDatosExcelNominaMateriaDocent({file:n}).then(e=>{a(o({success:!0,title:"Registro subido exitosamente!"}))}).catch(e=>{a(o({success:!1,title:"Error al cargar datos del excel",message:e.response.data.error}))}).finally(()=>{a(i())})},x=[{key:"1",label:"Subir Documento",children:r.jsx(b,{onArchivoChange:p,funcionEnviarDatos:f})},{key:"2",label:"Archivos subidos",children:r.jsx(v,{dataSource:d,columns:h})}];return r.jsxs("div",{children:[r.jsx("h2",{children:"Documentos del reporte nomina carrera docentes materia   "}),r.jsx(D,{children:r.jsx(E,{items:x})})]})};export{q as default};
