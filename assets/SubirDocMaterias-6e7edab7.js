import{r,b as x,j as t,c as s,d as o,e as i}from"./index-5aad39ae.js";import{D as b}from"./DraggerComponent-b8c87a46.js";import{E as c}from"./ExcelService-d4776a72.js";import{C as D,T as E}from"./index-bd599e66.js";import{T as v}from"./Table-656d8358.js";import"./row-8e9f2db1.js";import"./context-2a7aaf03.js";import"./useForceUpdate-dbe6b583.js";import"./EyeOutlined-9eb866e7.js";import"./styleChecker-72068623.js";import"./scrollTo-283e055c.js";import"./BaseInput-7c54d9e8.js";import"./index-e6c350fb.js";import"./TextArea-9f6e28af.js";const P=()=>{const[n,l]=r.useState(null),[d,m]=r.useState([]),a=x(),p=e=>{l(e)},h=[{align:"center",key:"carrera",dataIndex:"carrera",title:"Carrera"},{align:"center",key:"periodo",dataIndex:"periodo",title:"Periodo"},{align:"center",key:"fecha",dataIndex:"fecha",title:"Fecha creacion"},{align:"center",key:"accion",dataIndex:"accion",title:"AcciÃ³n"}],u=()=>{a(s()),c.historialReporteNominaCarreraDocenteMateria().then(e=>{e.data.ok&&(console.log(e.data.data),m(e.data.data))}).catch(e=>{console.log(e.response.data),a(o({success:!1,title:"Error al obtener el historial",message:e.response.data.error}))}).finally(()=>{a(i())})};r.useEffect(()=>{u()},[]);const f=()=>{a(s()),c.registrarDatosExcelNominaMateriaDocent({file:n}).then(e=>{a(o({success:!0,title:"Registro subido exitosamente!"}))}).catch(e=>{console.log(e.response.data),a(o({success:!1,title:"Error al cargar datos del excel",message:e.response.data.error}))}).finally(()=>{a(i())})},g=[{key:"1",label:"Subir Documento",children:t.jsx(b,{onArchivoChange:p,funcionEnviarDatos:f})},{key:"2",label:"Archivos subidos",children:t.jsx(v,{dataSource:d,columns:h})}];return t.jsxs("div",{children:[t.jsx("h2",{children:"Documentos del reporte nomina carrera docentes materia   "}),t.jsx(D,{children:t.jsx(E,{items:g})})]})};export{P as default};
